---
title: "Biogeoclimatic ecosystem"
output:
  html_document:
    code_folding: hide
    css: veg_report.css
    
---

```{r setup, include=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = TRUE)
require(kableExtra)
```


```{r, echo=FALSE}
level_name <- "Order"
level_value <- "ORDER Poputre"
```

<span class="emphasized">`r level_name`        `r level_value` </span>


```{r, echo=FALSE}
df_herb <- read.csv(file = file.path('../','level', level_name, level_value, "veg_reports", "Herb_Layer"))
df_moss <- read.csv(file = file.path('../','level', level_name, level_value, "veg_reports", "Moss_Layer"))
df_shrub <- read.csv(file = file.path('../','level', level_name, level_value, "veg_reports", "Shrub_Layer"))
df_tree <- read.csv(file = file.path('../','level', level_name, level_value, "veg_reports", "Tree_Layer"))

len_herb <- nrow(df_herb)
len_moss <- nrow(df_moss)
len_shrub <- nrow(df_shrub)
len_tree <- nrow(df_tree)

```

```{r Join data, echo=FALSE}
df <- rbind(df_tree, df_shrub, df_herb, df_moss)
```

```{r}
html_table_width <- function(kable_output, width){
  width_html <- paste0(paste0('<col width="', width, '">'), collapse = "\n")
  sub("<table>", paste0("<table>\n", width_html), kable_output)
}
```

```{r Veg report, echo=FALSE}
df <- df[, c("Layer","ScientificName", "constantcy","meanCover","EnglishName")]

kbl(df, col.names = c("Layer", "Scientific Name", "Constantcy", "Mean Cover", "English Name"), format = "html", table.attr = "style='width:100%;'", align = "lllll") %>%
  kable_styling() %>%
  row_spec(0, extra_css = "border-bottom: 1px solid") %>%
  row_spec(len_tree, extra_css = "border-bottom: 1px solid") %>%
  row_spec(len_tree + len_shrub, extra_css = "border-bottom: 1px solid") %>%
  row_spec(len_tree + len_shrub + len_herb, extra_css = "border-bottom: 1px solid")
```

